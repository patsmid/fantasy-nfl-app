/* ====== MANUAL LEAGUES – Alineación Titulares (responsive + bootstrap friendly) ====== */

/* Mantén tus variables --bg-secondary, --text-primary, etc. */

.flock-offcanvas.offcanvas {
  background-color: var(--bg-secondary);
  color: var(--text-primary);
  border-left: 1px solid var(--border);
  width: min(520px, 100vw);
}

.flock-offcanvas .offcanvas-header,
.flock-offcanvas .offcanvas-footer {
  background-color: rgba(255,255,255,0.05);
}

/* pos-control (igual que antes, pero preparado para wrap) */
.pos-control {
  background-color: rgba(255,255,255,0.03);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 0.6rem;
  display: flex;
  gap: 0.6rem;
  align-items: center;
  justify-content: space-between;
}

/* Etiqueta y chip */
.pos-label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Chip que muestra la posición */
.pos-chip {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 999px;
  font-weight: 600;
  letter-spacing: 0.4px;
  background-color: #2b2f38;
  border: 1px solid var(--border);
  color: var(--text-primary);
  text-transform: uppercase;
  font-size: 0.75rem;
}

/* Reglas adicionales para inputs y botones dentro de pos-control */
.pos-control .form-control {
  min-width: 64px;
  text-align: center;
  font-weight: 600;
  background-color: var(--bg-secondary);
  border-color: var(--border);
  color: var(--text-primary);
}
.pos-control .btn {
  padding: 0.28rem 0.6rem;
  min-width: 36px;
}

/* Color sutil por tipo */
.pos-qb     { background-color: rgba(0, 123, 255, 0.15); }
.pos-rb     { background-color: rgba(40, 167, 69, 0.15); }
.pos-wr     { background-color: rgba(255, 193, 7, 0.15); color: #ffd36b; }
.pos-te     { background-color: rgba(111, 66, 193, 0.18); }
.pos-flex   { background-color: rgba(108, 117, 125, 0.18); }
.pos-super_flex { background-color: rgba(255, 69, 0, 0.18); }
.pos-k      { background-color: rgba(23, 162, 184, 0.18); }
.pos-dst    { background-color: rgba(173, 181, 189, 0.18); color: #cbd3da; }

/* Presets */
.preset-chip {
  border: 1px solid var(--border);
  background: transparent;
  color: var(--text-primary);
  white-space: nowrap;
}
.preset-chip:hover { color: #fff; border-color: var(--accent); }
.preset-chip.active { background-color: var(--accent); color: #000; }

/* Tarjetas de liga */
.league-card {
  background-color: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.25);
}
.league-card .card-footer {
  background-color: rgba(255,255,255,0.04);
  border-top: 1px solid var(--border);
}

/* Botones outline en tema oscuro (mantener) */
.btn-outline-warning { color: #ffc107; border-color: #ffc10733; }
.btn-outline-warning:hover { background-color: #ffc107; color: #000; }
.btn-outline-danger  { color: #ff6b6b; border-color: #ff6b6b33; }
.btn-outline-danger:hover { background-color: #ff6b6b; color: #000; }
.btn-outline-light { color: var(--text-secondary); border-color: var(--border); }
.btn-outline-light:hover { color: #000; background-color: var(--accent); border-color: var(--accent); }

/* Inputs en tema oscuro */
.input-group .form-control { background-color: var(--bg-secondary); border-color: var(--border); color: var(--text-primary); }
.input-group .form-control:focus { border-color: var(--accent); box-shadow: 0 0 0 0.15rem rgba(255, 122, 0, 0.25); }

/* Buscador */
#league-search { background-color: var(--bg-secondary); border: 1px solid var(--border); color: var(--text-primary); }
#league-search:focus { border-color: var(--accent); box-shadow: 0 0 0 0.15rem rgba(255, 122, 0, 0.25); }

/* ------------- TABLE ADAPTIVE RULES ------------- */
/* No forzamos table-layout: fixed — permitimos wrap para evitar overflow horizontal */
#manualLeaguesTable {
  width: 100%;
  table-layout: auto;
}

/* Permitimos que las celdas hagan wrap y rompan palabras largas si hace falta */
#manualLeaguesTable th,
#manualLeaguesTable td {
  vertical-align: middle;
  padding: 0.55rem 0.75rem;
  white-space: normal;
  word-break: break-word;
}

/* Si quieres truncar alguno (ej. nombres largos) aplica .text-truncate en el elemento interno */
.text-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Asegura que botones y badges no empujen el layout */
#manualLeaguesTable .btn { white-space: nowrap; }

/* Small screens: ocultar columnas menos relevantes usando DataTables responsive preferiblemente,
   pero si quieres ocultamos con CSS como fallback */
@media (max-width: 900px) {
  /* Si DataTables responsive está activo, preferirlo. Este es solo fallback visual. */
  #manualLeaguesTable th:nth-child(6),
  #manualLeaguesTable td:nth-child(6) { display: none; } /* Draft ID */
}

/* Mobile specific offcanvas */
@media (max-width: 576px) {
  .flock-offcanvas.offcanvas { width: 100vw !important; max-width: 100vw; border-left: none; }
  .pos-control { flex-direction: column; align-items: stretch; gap: 0.5rem; }
  .pos-control .form-control { min-width: 100%; }
  .preset-chip { font-size: 0.9rem; padding: 0.25rem 0.5rem; }
  .league-card { margin-bottom: 0.6rem; }
}

/* ====== MANUAL LEAGUES – Alineación Titulares (responsive + bootstrap friendly) ====== */

/* ...tus reglas existentes... */

/* --- Viewport del DataTable: scroll interno y altura dinámica --- */
#dt-viewport {
  /* el alto real lo controla DataTables con scrollY; este wrapper evita que crezca la tarjeta */
  max-height: 80vh;
  overflow: hidden; /* DataTables ya genera su área scrolleable interna */
  background: var(--bg-secondary);
  border-radius: 12px;
}

/* DataTables: asegurar que el contenedor de scroll ocupe lo esperado */
.dataTables_scrollBody {
  background: var(--bg-secondary);
}

/* Mejora responsive child-row en tema oscuro */
table.dataTable>tbody>tr.child ul.dtr-details {
  color: var(--text-primary);
}
table.dataTable>tbody>tr.child {
  background-color: rgba(255,255,255,0.02);
}

/* Evitar desbordes y mantener legibilidad */
#manualLeaguesTable th,
#manualLeaguesTable td {
  vertical-align: middle;
  padding: 0.55rem 0.75rem;
  white-space: normal;
  word-break: break-word;
}
#manualLeaguesTable .btn { white-space: nowrap; }

/* Offcanvas móvil */
@media (max-width: 576px) {
  .flock-offcanvas.offcanvas { width: 100vw !important; max-width: 100vw; border-left: none; }
  .pos-control { flex-direction: column; align-items: stretch; gap: 0.5rem; }
  .pos-control .form-control { min-width: 100%; }
  .preset-chip { font-size: 0.9rem; padding: 0.25rem 0.5rem; }
  .league-card { margin-bottom: 0.6rem; }
}

/* Cards: viewport con scroll interno (cuando la vista activa es cards) */
#wrap-cards {
  /* el alto se setea desde JS para ajustarse al viewport */
  overflow: auto;
}

/* Opcional: quita el wrapper .table-responsive si existiera para evitar doble scroll */
#wrap-table,
.table-responsive {
  overflow: visible;
}
